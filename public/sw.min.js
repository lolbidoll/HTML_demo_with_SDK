(()=>{importScripts("https://s3-eu-west-1.amazonaws.com/static.wizrocket.com/js/sw_webpush.js");var t="__name__",i={};self.addEventListener("push",(function(e){var o=e.data&&e.data.text()?e.data.text():null;if(o){var n=JSON.parse(o);if(n&&n.title&&n.tag){n.data&&n.data.openAction&&n.data.openAction.hasOwnProperty(t)&&"Open URL"===n.data.openAction[t]&&n.data.openAction.hasOwnProperty("URL")&&(i[n.tag]=n.data.openAction.URL);var a=n.title;delete n.title,e.waitUntil(self.registration.showNotification(a,n))}else console.log("Leanplum: No options, title or tag/id received, skipping display.")}else console.log("Leanplum: Push received without payload, skipping display.")})),self.addEventListener("notificationclick",(function(t){if(console.log("Leanplum: [Service Worker] Notification click received."),t.notification.close(),t.notification&&t.notification.tag){var e=t.notification.tag,o=i[e];o?(delete i[e],t.waitUntil(clients.openWindow(o))):console.log("Leanplum: [Service Worker] No action defined, doing nothing.")}else console.log("Leanplum: No notification or tag/id received, skipping open action.")}))})();